

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>IOS Xcode &mdash; UPInteractive Document  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/main.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LuaPlugin Sample" href="lua02.html" />
    <link rel="prev" title="Android Eclipse" href="lua01_2.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter01.html">UPSDK Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter02.html">UPSDK IOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter03.html">UPSDK UnityPlugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter04.html">UPSDK Cocos2d-X Cpp</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chapters/chapter05.html">UPSDK Cocos2d-X Lua</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lua01.html">LuaPlugin</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lua01_1.html">Android Studio</a></li>
<li class="toctree-l3"><a class="reference internal" href="lua01_2.html">Android Eclipse</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">IOS Xcode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lua02.html">LuaPlugin Sample</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter06.html">UPSDK Cocos2d-X JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter07.html">UPSDK Layabox JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter08.html">UPSDK Egret TypeScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter09.html">UPSDK Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter10.html">GDPR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter11.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">UPInteractive Document</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../chapters/chapter05.html">UPSDK Cocos2d-X Lua</a> &raquo;</li>
        
          <li><a href="lua01.html">LuaPlugin</a> &raquo;</li>
        
      <li>IOS Xcode</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Cocos2d-X_Lua/lua01_3.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ios-xcode">
<span id="ios-xcode"></span><h1>IOS Xcode<a class="headerlink" href="#ios-xcode" title="Permalink to this headline">¶</a></h1>
<p>This access document is based on cocos2d-x 3.16. If you have problems when using other versions of cocos2d-x, please contact us.</p>
<div class="section" id="download-sdk-package">
<span id="download-sdk-package"></span><h2>1 Download SDK package<a class="headerlink" href="#download-sdk-package" title="Permalink to this headline">¶</a></h2>
<p>First from <a class="reference external" href="http://ads-sdk-doc.haloapps.com/docs/show/13">UPSDK Download</a> download UPSDK LuaPlugin package，The uncompressed directory contains the following three files：</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">UPSDK.framework</span></code> This is the UPSDK master package, so be sure to add it to your current project</li>
<li><code class="docutils literal notranslate"><span class="pre">UPSDK.bundle</span></code> Be sure to add the external file resources  because that the UPSDK master package needs to access to the current project</li>
<li><code class="docutils literal notranslate"><span class="pre">UpltvLuaBridge</span></code> This directory contains *. lua source files for bridging the current cocos2d-x Lua project and UPSDK AD interface calls
</br></li>
</ul>
</div>
<div class="section" id="the-xcode-project-adds-the-upsdk-master-package-and-source-files">
<span id="the-xcode-project-adds-the-upsdk-master-package-and-source-files"></span><h2>2 The XCode project adds the UPSDK master package and source files<a class="headerlink" href="#the-xcode-project-adds-the-upsdk-master-package-and-source-files" title="Permalink to this headline">¶</a></h2>
<p>Add UPSDK. Framework, UPSDK. Bundle, and UpltvLuaBridge folders to your Xcode project directory at the same time. It is important to note that the check UpltvLuaBridge folder contains to <code class="docutils literal notranslate"><span class="pre">UPAdsBridgeLua</span></code> and <code class="docutils literal notranslate"><span class="pre">UpltvIos</span></code> *. H and *. CPP file exists.</p>
<p>The full files included with the UPSDK is shown below：
</br>
<img alt="" src="http://docs.upltv.com/uploads/201805/5afe86ea12eac_5afe86ea.png" /></p>
<p>Will you can add  <code class="docutils literal notranslate"><span class="pre">UPLTV.</span> <span class="pre">Lua</span></code>, <code class="docutils literal notranslate"><span class="pre">UPLTVIos.</span> <span class="pre">Lua</span></code> introduce engineering, suggest introducing in Resources - &gt; SRC &gt; app - &gt; views directory, as shown in the figure below：</p>
<p><img alt="" src="http://docs.upltv.com/uploads/201804/5ae28500aafd8_5ae28500.png" /></p>
<p>Will  <code class="docutils literal notranslate"><span class="pre">UPAdsBrigeLua.</span> <span class="pre">h</span></code> and <code class="docutils literal notranslate"><span class="pre">UPAdsBrigeLua.</span> <span class="pre">mm</span></code> introduced in engineering, proposal introduced in ios directory, it is best to create a new folder as upltv, facilitate management project, as shown in the figure below：</p>
<p><img alt="" src="http://docs.upltv.com/uploads/201804/5ae18fc73aa86_5ae18fc7.png" /></p>
</div>
<div class="section" id="add-third-party-dependency-libraries">
<span id="add-third-party-dependency-libraries"></span><h2>3 Add third-party dependency libraries<a class="headerlink" href="#add-third-party-dependency-libraries" title="Permalink to this headline">¶</a></h2>
<p>UPSDK will rely on third-party advertising unions when it runs, so you’ll need to manually import the alliance’s dependent library files into your project. To ensure that you can properly add third-party dependency packages, please click here<a class="reference external" href="http://ads-sdk-doc.haloapps.com/docs/show/13">Download UPSDK union package</a> 。</p>
<p>UPSDK currently relies on the following third-party advertising union：</p>
<p><img alt="Add all third party SDK packages" src="http://docs.upltv.com/uploads/201709/59afafb9143e9_59afafb9.png" /></p>
<blockquote>
<div>Each alliance corresponds to a folder, and the name is prefixed with the name of the advertising coalition and suffixed with the version number, so it is easy to identify. The folder may contain supporting resource files in addition to the other dependent library or source file, so the dependent library should be added in conjunction with the corresponding supporting resource.</div></blockquote>
<p>Although it is not required to add all third party affiliate ads to the current project, we still recommend that you add as many of the above affiliate AD dependency libraries and their accompanying resource packages as possible in your project in order to increase revenue. In practice, please contact our technical support staff if you have any questions.</p>
<p>When you finish after add third party alliance advertising, check in the XCode project <code class="docutils literal notranslate"><span class="pre">Linked</span> <span class="pre">Frameworks</span> <span class="pre">Libraries</span></code> is properly introduced corresponding library files, avoid unnecessary mistakes.</p>
<p>for example in the current project access Applovin, Unity, Vungle, tapjoy like the four ads, need to put the four advertising library file (in turn isAppLovinSDK.framework,UnityAds.framework,VungleSDK.framework,Tapjoy.framework  like four static library framework) is added to the project, after successful add rendering is as follows：
<img alt="" src="http://docs.upltv.com/uploads/201804/5acc6644c33a5_5acc6644.png" /></p>
<p>In the above hypothesis, because the Tapjoy AD needs to access some of its external resource files, it needs to add its supporting resource files to the project, which can be viewed from TARGETS – General – Copy Bundle Resources：
<br>
<img alt="" src="http://docs.upltv.com/uploads/201804/5acc70803fec8_5acc7080.png" /></p>
</div>
<div class="section" id="add-system-dependencies">
<span id="add-system-dependencies"></span><h2>4 Add system dependencies<a class="headerlink" href="#add-system-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Add dependency libraries form TARGETS → General → Linked Frameworks Libraries</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">QuartzCore.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">MediaPlayer.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">libsqlite3.tbd</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">libz.tbd</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CoreMedia.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CoreGraphics.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CFNetwork.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">WebKit.framework</span></code> (Optional)</li>
<li><code class="docutils literal notranslate"><span class="pre">WatchConnectivity.framework</span></code> (Optional)</li>
<li><code class="docutils literal notranslate"><span class="pre">SystemConfiguration.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">StoreKit.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Social.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">MessageUI.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JavaScriptCore.framework</span></code>    (Optional)</li>
<li><code class="docutils literal notranslate"><span class="pre">EventKit.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CoreTelephony.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">AVFoundation.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">AudioToolbox.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">AdSupport.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">GLKit.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CoreMotion.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">libxml2.tbd</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">libc++.tbd</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SafariServices.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CoreLocation.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">EventKitUI.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">MobileCoreServices.framework</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">GameController.framework</span></code>
<br></li>
</ul>
</div>
<div class="section" id="project-configuration">
<span id="project-configuration"></span><h2>Project configuration<a class="headerlink" href="#project-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add-the-classification-compiler">
<span id="add-the-classification-compiler"></span><h3>1 Add the classification compiler<a class="headerlink" href="#add-the-classification-compiler" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add  <code class="docutils literal notranslate"><span class="pre">-ObjC</span></code> on <code class="docutils literal notranslate"><span class="pre">TARGETS</span></code> → <code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">Setting</span></code> → <code class="docutils literal notranslate"><span class="pre">Linking</span></code> → <code class="docutils literal notranslate"><span class="pre">Other</span> <span class="pre">Linker</span> <span class="pre">Flags</span></code> such as:
<img alt="" src="http://docs.upltv.com/uploads/201804/5ae28e70be73c_5ae28e70.png" /></li>
</ul>
</div>
<div class="section" id="add-the-following-nodes-to-the-info-plist-to-be-compatible-with-http-mode">
<span id="add-the-following-nodes-to-the-info-plist-to-be-compatible-with-http-mode"></span><h3>2  Add the following nodes to the info.plist to be compatible with HTTP mode<a class="headerlink" href="#add-the-following-nodes-to-the-info-plist-to-be-compatible-with-http-mode" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">key</span><span class="o">&gt;</span><span class="n">NSAppTransportSecurity</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">key</span><span class="o">&gt;</span>
<span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">dict</span><span class="o">&gt;</span>
    <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">key</span><span class="o">&gt;</span><span class="n">NSAllowsArbitraryLoads</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">key</span><span class="o">&gt;</span>
    <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nb">true</span><span class="o">/&gt;</span>
<span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">dict</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="add-the-following-nodes-to-the-info-plist-to-obtain-permissions-if-you-use-adcolony-union-you-must-add-if-you-do-not-use-adcolony-union-you-may-not-add-it">
<span id="add-the-following-nodes-to-the-info-plist-to-obtain-permissions-if-you-use-adcolony-union-you-must-add-if-you-do-not-use-adcolony-union-you-may-not-add-it"></span><h3>3 Add the following nodes to the info.plist to obtain permissions (if you use AdColony union, you must add; if you do not use AdColony union, you may not add it)<a class="headerlink" href="#add-the-following-nodes-to-the-info-plist-to-obtain-permissions-if-you-use-adcolony-union-you-must-add-if-you-do-not-use-adcolony-union-you-may-not-add-it" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">key</span><span class="o">&gt;</span><span class="n">NSCalendarsUsageDescription</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">key</span><span class="o">&gt;</span>
<span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">string</span><span class="o">&gt;</span><span class="n">Some</span> <span class="n">ad</span> <span class="n">content</span> <span class="n">may</span> <span class="n">create</span> <span class="n">a</span> <span class="n">calendar</span> <span class="n">event</span><span class="p">.</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">string</span><span class="o">&gt;</span>
<span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">key</span><span class="o">&gt;</span><span class="n">NSCameraUsageDescription</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">key</span><span class="o">&gt;</span>
<span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">string</span><span class="o">&gt;</span><span class="n">Some</span> <span class="n">ad</span> <span class="n">content</span> <span class="n">may</span> <span class="n">access</span> <span class="n">camera</span> <span class="n">to</span> <span class="n">take</span> <span class="n">picture</span><span class="p">.</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">string</span><span class="o">&gt;</span>
<span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">key</span><span class="o">&gt;</span><span class="n">NSPhotoLibraryUsageDescription</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">key</span><span class="o">&gt;</span>
<span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">string</span><span class="o">&gt;</span><span class="n">Some</span> <span class="n">ad</span> <span class="n">content</span> <span class="n">may</span> <span class="n">require</span> <span class="n">access</span> <span class="n">to</span> <span class="n">the</span> <span class="n">photo</span> <span class="n">library</span><span class="p">.</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="n">string</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>tips：Depending on the language and usage scenario, the user can adjust the description of the access permission appropriately.
<br></p>
</div>
<div class="section" id="bitcode">
<span id="bitcode"></span><h3>4 Bitcode<a class="headerlink" href="#bitcode" title="Permalink to this headline">¶</a></h3>
<p>Support Bitcode mode, please select whether to use Bitcode according to the requirement(Domob does not support Bitcode mode) .</p>
</div>
<div class="section" id="cocos-project-configuration">
<span id="cocos-project-configuration"></span><h3>5 cocos project configuration<a class="headerlink" href="#cocos-project-configuration" title="Permalink to this headline">¶</a></h3>
<p>If you are using the cocos created project, please check project <code class="docutils literal notranslate"><span class="pre">Version</span></code> have filled such as in the following figure：
（Because the Version of the project created by cocos is not filled by default, it will affect the subsequent use））</p>
<p><img alt="cocos project Version field configuration" src="http://docs.upltv.com/uploads/201709/59afb01ec7612_59afb01e.png" />
<br></p>
</div>
</div>
<div class="section" id="view-version-number">
<span id="view-version-number"></span><h2>6 View version number<a class="headerlink" href="#view-version-number" title="Permalink to this headline">¶</a></h2>
<p>In <em>AvidlyAdsSDKVersion.h</em>，you can view the version number of the current SDK directly。</p>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//version of sdk</span>
<span class="cp">#define AvidlyAdsSDKVERSION  @&quot;3003&quot;</span>
</pre></div>
</div>
<blockquote>
<div>AvidlyAdsSDKVERSION，3003 represents the current version number number.</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lua02.html" class="btn btn-neutral float-right" title="LuaPlugin Sample" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lua01_2.html" class="btn btn-neutral" title="Android Eclipse" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, upltv.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>