

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GDPR &mdash; UPInteractive Document  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Download Demo" href="lua02_7_sample_demo.html" />
    <link rel="prev" title="Reward video Ad" href="lua02_5_sample_video.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter00.html">About UPSDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter01.html">UPSDK Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter02.html">UPSDK IOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter03.html">UPSDK UnityPlugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter04.html">UPSDK Cocos2d-X Cpp</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chapters/chapter05.html">UPSDK Cocos2d-X Lua</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="lua01_help_catalog.html">LuaPlugin</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="lua02_sample_catalog.html">LuaPlugin Sample</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lua02_1_sample_init.html">Initial SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="lua02_2_sample_abtest.html">A/B Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="lua02_3_sample_banner.html">Banner AD</a></li>
<li class="toctree-l3"><a class="reference internal" href="lua02_4_sample_inter.html">Interstitial API</a></li>
<li class="toctree-l3"><a class="reference internal" href="lua02_5_sample_video.html">Reward video Ad</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">GDPR</a></li>
<li class="toctree-l3"><a class="reference internal" href="lua02_7_sample_demo.html">Download Demo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter06.html">UPSDK Cocos2d-X JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter07.html">UPSDK Layabox JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter08.html">UPSDK Egret TypeScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter09.html">UPSDK Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter10.html">GDPR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/chapter11.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">UPInteractive Document</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../chapters/chapter05.html">UPSDK Cocos2d-X Lua</a> &raquo;</li>
        
          <li><a href="lua02_sample_catalog.html">LuaPlugin Sample</a> &raquo;</li>
        
      <li>GDPR</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gdpr">
<span id="gdpr"></span><h1>GDPR<a class="headerlink" href="#gdpr" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">GDPR</span> <span class="pre">&quot;The</span> <span class="pre">General</span> <span class="pre">Data</span> <span class="pre">Protection</span> <span class="pre">Regulation&quot;</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">data</span> <span class="pre">protection</span> <span class="pre">program</span> <span class="pre">issued</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">European</span> <span class="pre">Union.</span></code>
If your product is intended for EU users, we offer the following solutions to ensure that <code class="docutils literal notranslate"><span class="pre">UPSDK</span></code> complies with the `GDPR’ rules.</p>
<p><code class="docutils literal notranslate"><span class="pre">UPSDK</span></code> supports the EU <code class="docutils literal notranslate"><span class="pre">GDPR</span></code> rules in the <code class="docutils literal notranslate"><span class="pre">3.0.03</span></code> version, and developers who will distribute in EU region must handle this logic.</p>
<div class="section" id="gdpr-samples">
<span id="gdpr-samples"></span><h2>GDPR Samples<a class="headerlink" href="#gdpr-samples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="customizing-implementation">
<span id="customizing-implementation"></span><h3>Customizing implementation<a class="headerlink" href="#customizing-implementation" title="Permalink to this headline">¶</a></h3>
<p>Customized dialog of GDPR according to the style of your game to ensure the best product experience.
When adopting this scheme, it is only necessary to inform the UPSDK of the authorization result before initializing the UPSDK.</p>
<p>Sample：</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span>local function yourOwnGDPRCallback(result)

    -- result : &quot;true&quot; means that  user accepts authorization，false means that user denies it.

    if result==&quot;true&quot; then
        upltv:updateAccessPrivacyInfoStatus(upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted)
    else
        upltv:updateAccessPrivacyInfoStatus(upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined)
    end

    -- please call updateAccessPrivacyInfoStatus() before initializing UPSDK

    upltv:initSDK(0)
end

local function europeanUnionUserCallBack(result)
    print(&quot;=====&gt; lua mEuropeanUnionUserCallBack result: &quot; .. result)
    -- result: &quot;true&quot; means users in the EU region

    if result==&quot;true&quot; then

        -- callYourOwnGDPRDialog()，is your method
        -- yourOwnGDPRCallback，is your callback to get result.
        -- Fake code
        callYourOwnGDPRDialog(yourOwnGDPRCallback)
    else
        upltv:initSDK(0)
    end
end

-- GDPR
local function checkGDPR()
    local e = upltv:getAccessPrivacyInfoStatus()
    print(&quot;=====&gt; lua getAccessPrivacyInfoStatus status: &quot; .. e)

    -- If you have not asked for authorization
    if e==upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown then

        -- Whether the user is in the EU 
        upltv:isEuropeanUnionUser(europeanUnionUserCallBack)
    else
        upltv:initSDK(0)
    end
end
</pre></div>
</div>
</div>
<div class="section" id="quick-implementation">
<span id="quick-implementation"></span><h3>Quick implementation<a class="headerlink" href="#quick-implementation" title="Permalink to this headline">¶</a></h3>
<p>If you use the standard authorization process provided by UPSDK, please refer to the following code .</p>
<p>Sample：</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span>local function notifyAccessPrivacyInfoStatusCallBack(value)
    print(&quot;=====&gt; lua notifyAccessPrivacyInfoStatus callback: &quot; .. value)
    upltv:initSDK(0)
 end

local function europeanUnionUserCallBack(result)
    print(&quot;=====&gt; lua mEuropeanUnionUserCallBack result: &quot; .. result)
    -- result: &quot;true&quot; means user in EU
    if result==&quot;true&quot; then

        -- pop up Dialog to ask authorizing
        upltv:notifyAccessPrivacyInfoStatus(notifyAccessPrivacyInfoStatusCallBack)
    else
        -- if user is not in the EU,just initializing upsdk
        upltv:initSDK(0)
    end
end

-- GDPR
local function checkGDPR()
    local e = upltv:getAccessPrivacyInfoStatus()
    print(&quot;=====&gt; lua getAccessPrivacyInfoStatus status: &quot; .. e)
    -- If you have not asked for authorization
    if (e==upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown) then
        -- Whether the user is in the EU 
        upltv:isEuropeanUnionUser(europeanUnionUserCallBack)
    else
        -- 假定发行地区是海外，且不需要回调
        upltv:initSDK(0)
    end
end
</pre></div>
</div>
</div>
</div>
<div class="section" id="gdpr-api">
<span id="gdpr-api"></span><h2>GDPR API<a class="headerlink" href="#gdpr-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="notifyaccessprivacyinfostatus">
<span id="notifyaccessprivacyinfostatus"></span><h3>1.notifyAccessPrivacyInfoStatus<a class="headerlink" href="#notifyaccessprivacyinfostatus" title="Permalink to this headline">¶</a></h3>
<p>The authorization window pops up to explain to the user that we will collect data and ask the user whether to approve the authorization. If the user refuses to authorize, the collection of related data will be abandoned. Please call before initializing the UPSDK.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">upltv</span><span class="p">:</span><span class="n">notifyAccessPrivacyInfoStatus</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
</pre></div>
</div>
<p>Sample：</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">local</span> <span class="n">mNotifyAccessPrivacyInfoStatusCallBack</span><span class="p">=</span><span class="n">function</span><span class="p">(</span><span class="k">value</span><span class="p">)</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;=====&gt; lua notifyAccessPrivacyInfoStatus callback: &quot;</span> <span class="p">..</span> <span class="k">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">upltv</span><span class="p">.</span><span class="n">GDPRPermissionEnum</span><span class="p">.</span><span class="n">UPAccessPrivacyInfoStatusAccepted</span><span class="p">==</span><span class="k">value</span> <span class="n">then</span>
          <span class="p">--</span><span class="n">agree</span>

    <span class="k">else</span>
          <span class="p">--</span><span class="n">disagree</span>
          
    <span class="n">end</span>
<span class="n">end</span>  

<span class="n">upltv</span><span class="p">:</span><span class="n">notifyAccessPrivacyInfoStatus</span><span class="p">(</span><span class="n">mNotifyAccessPrivacyInfoStatusCallBack</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="updateaccessprivacyinfostatus">
<span id="updateaccessprivacyinfostatus"></span><h3>2.updateAccessPrivacyInfoStatus<a class="headerlink" href="#updateaccessprivacyinfostatus" title="Permalink to this headline">¶</a></h3>
<p>When externally asking GDPR authorization, this method is called to inform the UPSDK of the user authorization result, and UPSDK will no longer perform authorization popup management. Please call before initializing the UPSDK.</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">upltv</span><span class="p">:</span><span class="n">updateAccessPrivacyInfoStatus</span><span class="p">(</span><span class="n">gdprPermissionEnumValue</span><span class="p">))</span>
</pre></div>
</div>
<p>Sample：</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>

    <span class="p">--</span><span class="n">If</span> <span class="n">the</span> <span class="n">user</span> <span class="n">defined</span><span class="p">,</span> <span class="n">call</span> <span class="n">the</span> <span class="n">following</span> <span class="n">method</span> <span class="n">to</span> <span class="n">notice</span>  <span class="n">UPSDK</span>
    <span class="n">upltv</span><span class="p">:</span><span class="n">updateAccessPrivacyInfoStatus</span><span class="p">(</span><span class="n">upltv</span><span class="p">.</span><span class="n">GDPRPermissionEnum</span><span class="p">.</span><span class="n">UPAccessPrivacyInfoStatusDefined</span><span class="p">);</span>
  
    <span class="p">--</span> <span class="n">If</span> <span class="n">the</span> <span class="n">user</span> <span class="n">accepted</span><span class="p">,</span> <span class="n">call</span> <span class="n">the</span> <span class="n">following</span> <span class="n">method</span> <span class="n">to</span> <span class="n">notice</span>  <span class="n">UPSDK</span>
    <span class="n">upltv</span><span class="p">:</span><span class="n">updateAccessPrivacyInfoStatus</span><span class="p">(</span><span class="n">upltv</span><span class="p">.</span><span class="n">GDPRPermissionEnum</span><span class="p">.</span><span class="n">UPAccessPrivacyInfoStatusAccepted</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="getaccessprivacyinfostatus">
<span id="getaccessprivacyinfostatus"></span><h3>3.getAccessPrivacyInfoStatus<a class="headerlink" href="#getaccessprivacyinfostatus" title="Permalink to this headline">¶</a></h3>
<p>Obtain the user authorization result, which can be called before initializing the UPSDK.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nl">upltv:</span><span class="n">getAccessPrivacyInfoStatus</span><span class="o">()</span>
</pre></div>
</div>
<p>Sample：</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">local</span> <span class="n">e</span> <span class="p">=</span> <span class="n">upltv</span><span class="p">:</span><span class="n">getAccessPrivacyInfoStatus</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="iseuropeanunionuser">
<span id="iseuropeanunionuser"></span><h3>4.isEuropeanUnionUser<a class="headerlink" href="#iseuropeanunionuser" title="Permalink to this headline">¶</a></h3>
<p>Determine whether the user belongs to the EU region,which can be called before initializing the UPSDK</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">upltv</span><span class="p">:</span><span class="n">isEuropeanUnionUser</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
</pre></div>
</div>
<p>Sample：</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">local</span> <span class="n">function</span> <span class="nf">europeanUnionUserCallBack</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;=====&gt; lua mEuropeanUnionUserCallBack result: &quot;</span> <span class="p">..</span> <span class="n">result</span><span class="p">)</span>
    <span class="p">--</span> <span class="n">result</span><span class="p">:</span> <span class="k">true</span> <span class="n">means</span> <span class="n">users</span> <span class="k">in</span> <span class="n">EU</span><span class="p">,</span> <span class="n">apply</span> <span class="n">to</span> <span class="n">GDPR</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">==</span><span class="s">&quot;true&quot;</span> <span class="n">then</span>
     <span class="p">--</span> <span class="n">TODO</span>
    <span class="k">else</span>
     <span class="p">--</span> <span class="n">TODO</span>
    <span class="n">end</span>
<span class="n">end</span>

<span class="n">upltv</span><span class="p">:</span><span class="n">isEuropeanUnionUser</span><span class="p">(</span><span class="n">europeanUnionUserCallBack</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lua02_7_sample_demo.html" class="btn btn-neutral float-right" title="Download Demo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lua02_5_sample_video.html" class="btn btn-neutral" title="Reward video Ad" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, upltv

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/js/custom.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>